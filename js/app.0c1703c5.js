(function(t){function e(e){for(var o,r,a=e[0],u=e[1],c=e[2],l=0,d=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,r=1;r<n.length;r++){var u=n[r];0!==i[u]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},i={app:0},s=[];function r(t){return a.p+"js/"+({about:"about"}[t]||t)+"."+{about:"bfd2e67b"}[t]+".js"}function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=o);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=r(t);var c=new Error;s=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,n[1](c)}i[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(e)},a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/fix-cost-calculator/",a.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var p=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"2f97":function(t,e,n){},"35eb":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("4de4"),n("b680");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],r=(n("5c0b"),n("2877")),a={},u=Object(r["a"])(a,i,s,!1,null,null,null),c=u.exports,l=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Calculator")],1)},d=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"calculator"},[n("Controls"),n("section",{staticClass:"position-list"},[n("Groups")],1),n("Result"),n("Graph")],1)},f=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"controls"},[n("div",{staticClass:"field"},[n("label",{attrs:{for:"enable-animations"}},[t._v("Enable Animations")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.enableAnimations,expression:"enableAnimations"}],attrs:{id:"enable-animations",type:"checkbox",value:"true"},domProps:{checked:Array.isArray(t.enableAnimations)?t._i(t.enableAnimations,"true")>-1:t.enableAnimations},on:{change:function(e){var n=t.enableAnimations,o=e.target,i=!!o.checked;if(Array.isArray(n)){var s="true",r=t._i(n,s);o.checked?r<0&&(t.enableAnimations=n.concat([s])):r>-1&&(t.enableAnimations=n.slice(0,r).concat(n.slice(r+1)))}else t.enableAnimations=i}}})]),n("div",{staticClass:"field"},[n("label",{attrs:{for:"budget"}},[t._v("Budget")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.budget,expression:"budget"}],attrs:{id:"budget",type:"number",step:".01",placeholder:"Budget"},domProps:{value:t.budget},on:{input:function(e){e.target.composing||(t.budget=e.target.value)}}})]),n("div",{staticClass:"field"},[n("section",{staticClass:"btn-list btn-list--centered"},[n("Import"),n("Export")],1)])])},b=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"import"},[n("button",{staticClass:"btn--secondary",on:{click:t.importData}},[t._v("Import")])])},v=[],y=(n("ac1f"),n("1276"),{name:"Import",methods:{importData:function(){var t,e,n=document.createElement("input"),o=this,i=1,s=new FileReader,r=["groups","positions","settings"];n.type="file",n.accept=".json",n.onchange=function(a){var u=a.target.value.split(".");u[u.length-1];t=a.target.files[0],s.addEventListener("load",(function(t){n.remove(),e=t.target.result;var s=JSON.parse(e);if(r.every((function(t){return void 0!==s[t]||(alert("Your selected JSON not valid. Please try another one."),i=0,!1)})),!i)return!0;o.$store.commit("groups/update",s.groups),o.$store.commit("positions/update",s.positions),o.$store.commit("controls/updateEnableAnimations",s.settings.enableAnimations),o.$store.commit("controls/updateBudget",s.settings.budget)})),s.readAsText(t)},n.click()}}}),C=y,P=Object(r["a"])(C,h,v,!1,null,"73322764",null),_=P.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"export"},[n("button",{staticClass:"btn--secondary",on:{click:t.exportData}},[t._v("Export")])])},G=[],x={name:"Export",methods:{exportData:function(){var t=document.createElement("a"),e={positions:this.$store.getters["positions/valid"],groups:this.$store.state.groups.items,settings:{enableAnimations:this.$store.state.controls.enableAnimations,budget:this.$store.state.controls.budget}},n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e));t.setAttribute("href",n),t.setAttribute("download","fix-cost-calculator-data.json"),t.click(),document.removeChild(t)}}},w=x,A=Object(r["a"])(w,$,G,!1,null,"00b74882",null),O=A.exports,S={name:"Controls",components:{Import:_,Export:O},computed:{enableAnimations:{get:function(){return this.$store.state.controls.enableAnimations},set:function(t){this.$store.commit("controls/updateEnableAnimations",t)}},budget:{get:function(){return this.$store.state.controls.budget},set:function(t){this.$store.commit("controls/updateBudget",t)}}}},E=S,I=(n("72e3"),Object(r["a"])(E,g,b,!1,null,"f2791d92",null)),j=I.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"groups"},[n("Draggable",t._b({attrs:{handle:".group-handle",group:"groups"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.positionGroups,callback:function(e){t.positionGroups=e},expression:"positionGroups"}},"Draggable",t.dragOptions,!1),[n("transition-group",{attrs:{name:t.transitionType,tag:"ul"}},t._l(t.positionGroups,(function(e){return n("li",{key:e.id,staticClass:"group"},["default"!==e.id?[n("div",{staticClass:"group-controls"},[n("div",[n("i",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:e.id,expression:"group.id"}],staticClass:"icon-down"},[n("b-icon-chevron-down")],1),n("i",{staticClass:"icon-move group-handle"},[n("b-icon-arrows-move")],1),n("input",{attrs:{type:"text"},domProps:{value:e.name},on:{input:function(n){return t.updateGroupName(n,e)}}})]),n("i",{staticClass:"icon-remove",on:{click:function(n){return t.removePositionGroup(e)}}},[n("b-icon-x")],1)]),n("b-collapse",{staticClass:"mt-2",attrs:{id:e.id,visible:""}},[n("Positions",{attrs:{group:e}})],1)]:[n("Positions",{attrs:{group:e}})]],2)})),0)],1),n("button",{staticClass:"add-group",on:{click:t.addPositionGroup}},[t._v("Add Group")])],1)},N=[],k=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"positions"},[n("Draggable",t._b({attrs:{handle:".handle",group:"positions"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.groupedPositions,callback:function(e){t.groupedPositions=e},expression:"groupedPositions"}},"Draggable",t.dragOptions,!1),[n("transition-group",{attrs:{name:t.transitionType,tag:"ul"}},t._l(t.groupedPositions,(function(t){return n("li",{key:t.id},[n("Position",{attrs:{data:t}})],1)})),0)],1),n("div",[n("button",{staticClass:"add-position",on:{click:t.addPosition}},[t._v("Add Position")])])],1)}),D=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"position"},[n("i",{staticClass:"icon-move handle"},[n("b-icon-arrows-move")],1),n("input",{staticClass:"name",attrs:{type:"text",placeholder:"Position Name"},domProps:{value:t.data.name},on:{input:function(e){return t.updateName(e,t.data)}}}),n("input",{attrs:{placeholder:"Kosten",type:"number",step:".01"},domProps:{value:t.data.cost},on:{input:function(e){return t.updateCost(e,t.data)}}}),n("i",{staticClass:"icon-remove",on:{click:function(e){return t.removePosition(t.data)}}},[n("b-icon-x")],1)])},J=[],R=n("7386"),T={name:"Position",components:{BIconX:R["c"],BIconArrowsMove:R["a"]},props:{data:Object},data:function(){return{tweenedCost:0}},methods:{removePosition:function(t){this.$store.commit("positions/remove",t)},updateName:function(t,e){e.name=t.target.value,this.$store.commit("positions/updateSingle",e)},updateCost:function(t,e){e.cost=t.target.value,this.$store.commit("positions/updateSingle",e)}}},F=T,z=(n("799b"),Object(r["a"])(F,M,J,!1,null,"6e4d0894",null)),L=z.exports,H=n("b76a"),X=n.n(H),q={name:"Positions",components:{Position:L,Draggable:X.a},props:["group"],data:function(){return{drag:!1}},computed:{groupedPositions:{get:function(){return this.getPositionsByGroup(this.group.id)},set:function(t){this.$store.dispatch("positions/updateGroupedPositions",{positions:t,groupId:this.group.id})}},transitionType:function(){return this.$store.state.controls.enableAnimations&&this.drag?"list":null},dragOptions:function(){return{animation:this.$store.state.controls.enableAnimations?200:0}}},methods:{addPosition:function(){this.$store.commit("positions/add",{group:this.group.id})},getPositionsByGroup:function(){return this.$store.getters["positions/byGroup"](this.group.id)}}},K=q,U=(n("57d5"),Object(r["a"])(K,k,D,!1,null,"ec761254",null)),Y=U.exports,Q={name:"Groups",components:{Positions:Y,BIconChevronDown:R["b"],BIconX:R["c"],BIconArrowsMove:R["a"],Draggable:X.a},data:function(){return{drag:!1}},computed:{positionGroups:{get:function(){return this.$store.state.groups.items},set:function(t){this.$store.commit("groups/update",t)}},transitionType:function(){return this.$store.state.controls.enableAnimations&&!this.drag?"list":null},dragOptions:function(){return{animation:this.$store.state.controls.enableAnimations?200:0}}},watch:{positionGroups:function(t){localStorage.setItem("positionGroups",JSON.stringify(t))}},beforeMount:function(){while(this.$store.state.positions.items.length<3)this.$store.commit("positions/add",{group:"default"})},methods:{addPositionGroup:function(){this.$store.commit("groups/add")},updateGroupName:function(t,e){e.name=t.target.value,this.$store.commit("groups/updateSingle",e)},removePositionGroup:function(t){var e="Do you really want to delete your group";t.name&&(e+=' "'+t.name+'"'),e+="?",confirm(e)&&(this.$store.commit("groups/remove",t),this.$store.commit("positions/removeByGroup",t.id))}}},V=Q,W=(n("fca4"),Object(r["a"])(V,B,N,!1,null,"a7608090",null)),Z=W.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"result"},[n("table",[t.budget>0?n("tr",[n("td",{staticClass:"name",attrs:{colspan:"2"}},[t._v("Budget")]),n("td",{staticClass:"price"},[n("b",[t._v(t._s(t._f("formatPrice")(t.budget)))])])]):t._e(),t._l(t.positionGroups,(function(e){return t._l(t.getPositionsByGroup(e.id),(function(o,i){return n("tr",{key:o.id},[n("td",{staticClass:"group",class:{"new-group":t.displayGroupName(e.id,i)}},[t.displayGroupName(e.id,i)?n("span",[t._v(t._s(e.name))]):t._e()]),n("td",{staticClass:"name"},[t._v(t._s(o.name))]),n("td",{staticClass:"price"},[t._v("-"+t._s(t._f("formatPrice")(o.cost)))])])}))})),n("tr",{staticClass:"calc-result",class:{positive:t.result>0,negative:t.result<0}},[n("td",{staticClass:"name",attrs:{colspan:"2"}},[t._v("Result")]),t.enableAnimations?n("td",{staticClass:"price",domProps:{textContent:t._s(t.$options.filters.formatPrice(t.animatedResult))}}):n("td",{staticClass:"price",domProps:{textContent:t._s(t.$options.filters.formatPrice(t.result))}})])],2)])},et=[],nt=n("cffa"),ot={name:"Result",data:function(){return{tweenedResult:0}},computed:{positionGroups:function(){return this.$store.state.groups.items},budget:function(){return this.$store.state.controls.budget},result:function(){return this.$store.getters.result},animatedResult:function(){return this.enableAnimations?this.tweenedResult:0},enableAnimations:function(){return this.$store.state.controls.enableAnimations}},beforeMount:function(){this.result&&(this.tweenedResult=parseFloat(this.result))},methods:{getPositionsByGroup:function(t){return this.$store.getters["positions/byGroup"](t).filter((function(t){return t.name||t.cost}))},displayGroupName:function(t,e){return"default"!==t&&0===e}},watch:{result:function(t){this.enableAnimations&&nt["a"].to(this.$data,{duration:.5,tweenedResult:t})}}},it=ot,st=(n("a8fb"),Object(r["a"])(it,tt,et,!1,null,"29880351",null)),rt=st.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"graphs"},[n("div",{staticClass:"graph"},[n("GChart",{attrs:{type:"PieChart",data:t.chartData,options:t.chartOptions()}})],1),t._l(t.groups,(function(e){return[t.isGroupEmpty(e.id)?t._e():n("div",{key:e.id,staticClass:"graph"},[n("GChart",{attrs:{type:"PieChart",data:t.getChartDataByGroup(e.id),options:t.chartOptions(e.name)}})],1)]}))],2)},ut=[],ct=n("cb43"),lt={name:"Graph",comments:{GChart:ct["default"]},computed:{chartData:function(){return this.$store.getters["charts/getAllPositionsChartData"]},enableAnimations:function(){return this.$store.state.controls.enableAnimations},groups:function(){return this.$store.state.groups.items}},mounted:function(){var t=document.createElement("script");t.setAttribute("src","https://www.gstatic.com/charts/loader.js"),document.head.appendChild(t)},methods:{isGroupEmpty:function(t){return this.$store.getters["groups/isGroupEmpty"](t)},getChartDataByGroup:function(t){return this.$store.getters["charts/getChartDataByGroup"](t)},chartOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Costs";return{title:t,is3D:!0,width:500,height:300,backgroundColor:"transparent"}}}},pt=lt,dt=(n("e53a"),Object(r["a"])(pt,at,ut,!1,null,"565c1b5e",null)),mt=dt.exports,ft={name:"Calculator",components:{Result:rt,Groups:Z,Controls:j,Graph:mt},watch:{"$store.state.positions.items":function(){localStorage.setItem("positions",JSON.stringify(this.$store.state.positions.items))},"$store.state.positionGroups":function(t){localStorage.setItem("positionGroups",JSON.stringify(t))}}},gt=ft,bt=(n("d879"),Object(r["a"])(gt,m,f,!1,null,"d1279686",null)),ht=bt.exports,vt={name:"Home",components:{Calculator:ht}},yt=vt,Ct=Object(r["a"])(yt,p,d,!1,null,"6fef9465",null),Pt=Ct.exports;o["a"].use(l["a"]);var _t=[{path:"/",name:"Home",component:Pt},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],$t=new l["a"]({routes:_t}),Gt=$t,xt=n("2f62");n("25f0"),n("a434"),n("159b");o["a"].use(xt["a"]);var wt={namespaced:!0,state:{items:[]},getters:{valid:function(t){return t.items.filter((function(t){return!isNaN(t.cost)}))},byGroup:function(t){return function(e){return t.items.filter((function(t){return t.group===e}))}}},mutations:{initialize:function(t){null!==localStorage.getItem("positions")&&(t.items=JSON.parse(localStorage.getItem("positions")))},add:function(t,e){e.id=e.id||Math.random().toString(36).substr(2,9),t.items.push(e)},swap:function(t,e){var n=e.oldIndex,i=e.newIndex,s=t.items[i];o["a"].set(t.items,i,t.items[n]),o["a"].set(t.items,n,s)},update:function(t,e){t.items=e},updateSingle:function(t,e){o["a"].set(t.items,t.items.indexOf(e),e)},remove:function(t,e){t.items.splice(t.items.indexOf(e),1)},removeByGroup:function(t,e){t.items=t.items.filter((function(t){return t.group!==e}))}},actions:{updateGroupedPositions:function(t,e){var n=t.commit,o=t.state,i=t.getters;e.positions.forEach((function(t){t.group!==e.groupId&&(t.group=e.groupId,n("updateSingle",t))}));var s=i.byGroup(e.groupId);e.positions.forEach((function(t,r){if(t.id!==s[r].id){var a=o.items.indexOf(t),u=o.items.indexOf(s[r]);n("swap",{oldIndex:a,newIndex:u}),s=i.byGroup(e.groupId)}}))}}};o["a"].use(xt["a"]);var At={namespaced:!0,state:{items:[{name:"default",id:"default"}]},getters:{getGroupById:function(t){return function(e){return t.items.filter((function(t){return t.id===e}))}},isGroupEmpty:function(t,e){return function(t){return 0===e["positions/byGroup"](t).length}}},mutations:{initialize:function(t){null!==localStorage.getItem("positionGroups")&&(t.items=JSON.parse(localStorage.getItem("positionGroups")))},add:function(t){t.items.push({id:Math.random().toString(36).substr(2,9),name:"Group "+t.items.length})},update:function(t,e){t.items=e},updateSingle:function(t,e){o["a"].set(t.items,t.items.indexOf(e),e)},remove:function(t,e){t.items.splice(t.items.indexOf(e),1)}},modules:{positions:wt}};n("d81d"),n("99af");o["a"].use(xt["a"]);var Ot={namespaced:!0,state:{budget:0,enableAnimations:!0},getters:{availableBudget:function(t,e){return t.budget-e["positions/valid"].reduce((function(t,e){return t- -e.cost}),0).toFixed(2)}},mutations:{updateEnableAnimations:function(t,e){t.enableAnimations=e},updateBudget:function(t,e){t.budget=e,localStorage.setItem("budget",JSON.stringify(e))}},modules:{positions:wt}};o["a"].use(xt["a"]);var St=["Position","Cost"],Et={namespaced:!0,state:{},getters:{getMappedPositions:function(){return function(t){return t.map((function(t){return[t.name,parseFloat(t.cost)]}))}},getPreparedChartData:function(t,e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=n&&Ot.state.budget>0&&e["controls/availableBudget"]>=0?[["Left Budget",e["controls/availableBudget"]]].concat(t):t;return[St].concat(o)}},getChartDataByGroup:function(t,e){return function(t){var n=e.getMappedPositions(e["positions/byGroup"](t));return e.getPreparedChartData(n)}},getAllPositionsChartData:function(t,e){var n=e.getMappedPositions(e["positions/valid"]);return e.getPreparedChartData(n,!0)}},modules:{positions:wt,controls:Ot}};o["a"].use(xt["a"]);var It=new xt["a"].Store({getters:{result:function(t,e){return t.controls.budget-e["positions/valid"].reduce((function(t,e){return t- -e.cost}),0).toFixed(2)}},actions:{initializeCalculator:function(t){var e=t.commit;e("positions/initialize"),e("groups/initialize"),null!==localStorage.getItem("budget")&&e("controls/updateBudget",JSON.parse(localStorage.getItem("budget")))}},modules:{positions:wt,groups:At,charts:Et,controls:Ot}}),jt=n("331b");o["a"].use(ct["default"]),o["a"].use(jt["a"]),o["a"].config.productionTip=!1,o["a"].filter("formatPrice",(function(t){return t?isNaN(parseFloat(t))?t:parseFloat(t).toFixed(2)+" €":"0.00 €"})),new o["a"]({router:Gt,store:It,beforeCreate:function(){this.$store.dispatch("initializeCalculator")},render:function(t){return t(c)}}).$mount("#app")},"57d5":function(t,e,n){"use strict";n("cb34")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"72e3":function(t,e,n){"use strict";n("b4da")},"799b":function(t,e,n){"use strict";n("35eb")},8408:function(t,e,n){},"9c0c":function(t,e,n){},a8fb:function(t,e,n){"use strict";n("2f97")},af3f:function(t,e,n){},b4da:function(t,e,n){},cb34:function(t,e,n){},d6c4:function(t,e,n){},d879:function(t,e,n){"use strict";n("8408")},e53a:function(t,e,n){"use strict";n("af3f")},fca4:function(t,e,n){"use strict";n("d6c4")}});
//# sourceMappingURL=app.0c1703c5.js.map